"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[197],{63560:(e,t,a)=>{a.d(t,{A:()=>b});var r=a(35906),s=a(98778),l=a(12250),n=a.n(l),i=a(49785),o=a(64732),c=a(29241),u=a(51803),m=a(48070),d=a(4829),p=a(66170),g=a(66092),f=a(35218),_=a(67370),y=a(25635),h=a(70252);const E=({name:e,label:t,formLabel:a,type:l="text",options:n=[],rules:E={},error:b,placeholder:v,inputProps:w,control:A,autoComplete:M,defaultValue:S,helpText:x,children:C,inputRef:N})=>{const k=(0,h.A)(),[P,T]=(0,s.useState)(!0),V=P?y.IT:y.$G,L=P?k.formatMessage({id:"field.password.assistive_msg.show_password",defaultMessage:[{type:0,value:"Show password"}]}):k.formatMessage({id:"field.password.assistive_msg.hide_password",defaultMessage:[{type:0,value:"Hide password"}]}),$="password"===l&&P?"password":"password"===l?"text":l;return s.createElement(i.xI,{name:e,control:A,rules:E,defaultValue:S,render:({field:{onChange:i,value:h,ref:E}})=>{const A="function"==typeof w?w({value:h,onChange:i}):w;return s.createElement(o.MJ,{id:e,isInvalid:b},!["checkbox","radio","hidden"].includes(l)&&(a||s.createElement(c.l,null,t)),s.createElement(u.M,null,["text","password","email","phone","tel","number"].includes(l)&&s.createElement(m.p,(0,r.A)({ref:e=>{E(e),N&&(N.current=e)},onChange:i,value:h,type:$,placeholder:v,autoComplete:M},A)),"hidden"===l&&s.createElement("input",(0,r.A)({ref:E,onChange:i,value:h,type:"hidden"},A)),"password"===l&&s.createElement(d.t,null,s.createElement(p.K,{variant:"ghosted","aria-label":L,icon:s.createElement(V,{color:"gray.500",boxSize:6}),onClick:()=>T(!P)})),"select"===l&&s.createElement(g.l,(0,r.A)({ref:E,onChange:i,value:h,placeholder:v},A),n.map((e=>s.createElement("option",{key:`${e.label}-${e.value}`,value:e.value},e.label)))),"checkbox"===l&&s.createElement(f.S,(0,r.A)({ref:E,onChange:e=>i(e.target.checked),isChecked:h},A),a||t),C),b&&"hidden"!==l&&s.createElement(_.Wt,{color:"red.600"},s.createElement(y._0,{"aria-hidden":"true",mr:2}),b.message),x)}})};E.propTypes={name:n().string,label:n().string,autoComplete:n().string,formLabel:n().any,type:n().oneOf(["text","number","password","email","phone","tel","select","checkbox","hidden"]),options:n().arrayOf(n().shape({label:n().string,value:n().any})),rules:n().object,error:n().shape({message:n().string}),placeholder:n().string,inputProps:n().oneOfType([n().object,n().func]),control:n().object,defaultValue:n().any,helpText:n().any,children:n().any,inputRef:n().object};const b=E},93613:(e,t,a)=>{a.d(t,{A:()=>g});var r=a(98778),s=a(12250),l=a.n(s),n=a(20751),i=a(45915),o=a(40133),c=a(86400),u=a(25635),m=a(45589);const d=({isValid:e,children:t})=>{const a={display:"block",ml:e?"-2px":"-1px",mr:e?"9px":"10px",boxSize:e?4:"14px",color:e?"green.500":"white",border:e?"none":"1px solid",borderColor:"gray.200",borderRadius:"full"};return r.createElement(i.s,{align:"center"},r.createElement(u.C1,a),r.createElement(o.E,{fontSize:"sm",lineHeight:4},t))};d.propTypes={isValid:l().bool,children:l().any};const p=({value:e})=>{const t=(0,m.O)(e);return r.createElement(c.B,{spacing:2},r.createElement(d,{isValid:t.hasMinChars},r.createElement(n.A,{id:"password_requirements.error.eight_letter_minimum",defaultMessage:[{type:0,value:"8 characters minimum"}]})),r.createElement(d,{isValid:t.hasUppercase},r.createElement(n.A,{id:"password_requirements.error.one_uppercase_letter",defaultMessage:[{type:0,value:"1 uppercase letter"}]})),r.createElement(d,{isValid:t.hasLowercase},r.createElement(n.A,{id:"password_requirements.error.one_lowercase_letter",defaultMessage:[{type:0,value:"1 lowercase letter"}]})),r.createElement(d,{isValid:t.hasNumber},r.createElement(n.A,{defaultMessage:[{type:0,value:"1 number"}],id:"password_requirements.error.one_number"})),r.createElement(d,{isValid:t.hasSpecialChar},r.createElement(n.A,{id:"password_requirements.error.one_special_character",defaultMessage:[{type:0,value:"1 special character (example: , S ! % #)"}]})))};p.propTypes={value:l().string};const g=p},38409:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var r=a(8805),s=a(98778),l=a(12250),n=a.n(l),i=a(70252),o=a(36287),c=a(66272),u=a(54007),m=a(49785),d=a(25149),p=a(41375),g=a(20751),f=a(86400),_=a(40133),y=a(76315),h=a(14893),E=a(58493),b=a(25635),v=a(17015),w=a(35906),A=a(45589),M=a(63560),S=a(93613);const x=({form:e,prefix:t=""})=>{const a=function({form:{control:e,formState:{errors:t}},prefix:a=""}){const{formatMessage:r}=(0,i.A)();return{firstName:{name:`${a}firstName`,label:r({defaultMessage:[{type:0,value:"First Name"}],id:"use_registration_fields.label.first_name"}),type:"text",autoComplete:"given-name",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your first name."}],id:"use_registration_fields.error.required_first_name"})},error:t[`${a}firstName`],control:e},lastName:{name:`${a}lastName`,label:r({defaultMessage:[{type:0,value:"Last Name"}],id:"use_registration_fields.label.last_name"}),type:"text",defaultValue:"",autoComplete:"family-name",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your last name."}],id:"use_registration_fields.error.required_last_name"})},error:t[`${a}lastName`],control:e},email:{name:`${a}email`,label:r({defaultMessage:[{type:0,value:"Email"}],id:"use_registration_fields.label.email"}),placeholder:"you@email.com",type:"email",autoComplete:"email",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please enter a valid email address."}],id:"use_registration_fields.error.required_email"})},error:t[`${a}email`],control:e},password:{name:`${a}password`,label:r({defaultMessage:[{type:0,value:"Password"}],id:"use_registration_fields.label.password"}),type:"password",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please create a password."}],id:"use_registration_fields.error.required_password"}),validate:{hasMinChars:e=>(0,A.O)(e).hasMinChars||r({defaultMessage:[{type:0,value:"Password must contain at least 8 characters."}],id:"use_registration_fields.error.minimum_characters"}),hasUppercase:e=>(0,A.O)(e).hasUppercase||r({defaultMessage:[{type:0,value:"Password must contain at least one uppercase letter."}],id:"use_registration_fields.error.uppercase_letter"}),hasLowercase:e=>(0,A.O)(e).hasLowercase||r({defaultMessage:[{type:0,value:"Password must contain at least one lowercase letter."}],id:"use_registration_fields.error.lowercase_letter"}),hasNumber:e=>(0,A.O)(e).hasNumber||r({defaultMessage:[{type:0,value:"Password must contain at least one number."}],id:"use_registration_fields.error.contain_number"}),hasSpecialChar:e=>(0,A.O)(e).hasSpecialChar||r({defaultMessage:[{type:0,value:"Password must contain at least one special character."}],id:"use_registration_fields.error.special_character"})}},error:t[`${a}password`],control:e},acceptsMarketing:{name:`${a}acceptsMarketing`,label:r({defaultMessage:[{type:0,value:"Sign me up for Salesforce emails (you can unsubscribe at any time)"}],id:"use_registration_fields.label.sign_up_to_emails"}),type:"checkbox",defaultValue:!1,error:t[`${a}acceptsMarketing`],control:e}}}({form:e,prefix:t}),r=e.watch("password");return s.createElement(f.B,{spacing:5},s.createElement(M.A,a.firstName),s.createElement(M.A,a.lastName),s.createElement(M.A,a.email),s.createElement(f.B,{spacing:3,pb:2},s.createElement(M.A,a.password),s.createElement(S.A,{value:r})),s.createElement(M.A,(0,w.A)({},a.acceptsMarketing,{inputProps:{alignItems:"flex-start"}})))};x.propTypes={form:n().object.isRequired,prefix:n().string};const C=x;var N=a(84939);const k=({submitForm:e,clickSignIn:t=v.lQ,form:a})=>{var r;return s.createElement(s.Fragment,null,s.createElement(f.B,{justify:"center",align:"center",spacing:8},s.createElement(b.FQ,{width:"60px",height:"auto"}),s.createElement(f.B,{spacing:2},s.createElement(_.E,{align:"center",fontSize:"xl",fontWeight:"semibold"},s.createElement(g.A,{defaultMessage:[{type:0,value:"Let's get started!"}],id:"register_form.heading.lets_get_started"})),s.createElement(_.E,{fontSize:"sm",align:"center",color:"gray.700"},s.createElement(g.A,{defaultMessage:[{type:0,value:"Create an account and get first access to the very best products, inspiration and community."}],id:"register_form.message.create_an_account"})))),s.createElement("form",{onSubmit:a.handleSubmit(e),"data-testid":"sf-auth-modal-form-register"},s.createElement(f.B,{paddingTop:8,spacing:8,paddingLeft:4,paddingRight:4},(null===(r=a.formState.errors)||void 0===r?void 0:r.global)&&s.createElement(y.F,{status:"error"},s.createElement(b._0,{color:"red.500",boxSize:4}),s.createElement(_.E,{fontSize:"sm",ml:3},a.formState.errors.global.message)),s.createElement(C,{form:a}),s.createElement(f.B,{spacing:6},s.createElement(h.$,{type:"submit",onClick:()=>a.clearErrors("global"),isLoading:a.formState.isSubmitting},s.createElement(g.A,{defaultMessage:[{type:0,value:"Create Account"}],id:"register_form.button.create_account"})),s.createElement(f.B,{direction:"row",spacing:1,justify:"center"},s.createElement(_.E,{fontSize:"sm"},s.createElement(g.A,{defaultMessage:[{type:0,value:"Already have an account?"}],id:"register_form.message.already_have_account"})),s.createElement(h.$,{variant:"link",size:"sm",onClick:t},s.createElement(g.A,{defaultMessage:[{type:0,value:"Sign in"}],id:"register_form.action.sign_in"}))),s.createElement(_.E,{fontSize:"sm",align:"center"},s.createElement(g.A,{id:"register_form.message.agree_to_policy_terms",defaultMessage:[{type:0,value:"By creating an account, you agree to Salesforce "},{type:8,value:"policy",children:[{type:0,value:"Privacy Policy"}]},{type:0,value:" and "},{type:8,value:"terms",children:[{type:0,value:"Terms & Conditions"}]}],values:{policy:e=>s.createElement(E.N,{as:N.A,to:"/privacy-policy",color:"blue.600"},e),terms:e=>s.createElement(E.N,{as:N.A,to:"/terms-conditions",color:"blue.600"},e)}}))))))};k.propTypes={submitForm:n().func,clickSignIn:n().func,form:n().object};const P=k;var T=a(7711),V=a(65376),L=a(32105);const $=()=>{const{formatMessage:e}=(0,i.A)(),t=(0,T.A)(),{isRegistered:a}=(0,u.useCustomerType)(),l=(0,m.mN)(),n=(0,V.A)(),{pathname:g}=(0,d.zy)(),f=(0,u.useAuthHelper)(u.AuthHelpers.Register),_=function(){var t=(0,r.A)((function*(t){const a={customer:{firstName:t.firstName,lastName:t.lastName,email:t.email,login:t.email},password:t.password};try{yield f.mutateAsync(a,{})}catch(t){l.setError("global",{type:"manual",message:e(L.gS)})}}));return function(e){return t.apply(this,arguments)}}();return(0,s.useEffect)((()=>{a&&t("/account")}),[a]),(0,s.useEffect)((()=>{n.sendViewPage(g)}),[]),s.createElement(o.az,{"data-testid":"registration-page",bg:"gray.50",py:[8,16]},s.createElement(p.A,{title:"Registration",description:"Customer sign up"}),s.createElement(c.m,{paddingTop:16,width:["100%","407px"],bg:"white",paddingBottom:14,marginTop:8,marginBottom:8,borderRadius:"base"},s.createElement(P,{submitForm:_,form:l,clickSignIn:()=>t("/login")})))};$.getTemplateName=()=>"registration",$.propTypes={match:n().object};const q=$}}]);