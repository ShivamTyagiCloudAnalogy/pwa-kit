"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[205],{63560:(e,t,a)=>{a.d(t,{A:()=>_});var r=a(35906),s=a(98778),l=a(12250),n=a.n(l),o=a(49785),d=a(64732),i=a(29241),u=a(51803),c=a(48070),m=a(4829),p=a(66170),f=a(66092),g=a(35218),h=a(67370),y=a(25635),v=a(70252);const E=({name:e,label:t,formLabel:a,type:l="text",options:n=[],rules:E={},error:_,placeholder:b,inputProps:w,control:A,autoComplete:x,defaultValue:C,helpText:M,children:S,inputRef:P})=>{const I=(0,v.A)(),[N,O]=(0,s.useState)(!0),z=N?y.IT:y.$G,k=N?I.formatMessage({id:"field.password.assistive_msg.show_password",defaultMessage:[{type:0,value:"Show password"}]}):I.formatMessage({id:"field.password.assistive_msg.hide_password",defaultMessage:[{type:0,value:"Hide password"}]}),$="password"===l&&N?"password":"password"===l?"text":l;return s.createElement(o.xI,{name:e,control:A,rules:E,defaultValue:C,render:({field:{onChange:o,value:v,ref:E}})=>{const A="function"==typeof w?w({value:v,onChange:o}):w;return s.createElement(d.MJ,{id:e,isInvalid:_},!["checkbox","radio","hidden"].includes(l)&&(a||s.createElement(i.l,null,t)),s.createElement(u.M,null,["text","password","email","phone","tel","number"].includes(l)&&s.createElement(c.p,(0,r.A)({ref:e=>{E(e),P&&(P.current=e)},onChange:o,value:v,type:$,placeholder:b,autoComplete:x},A)),"hidden"===l&&s.createElement("input",(0,r.A)({ref:E,onChange:o,value:v,type:"hidden"},A)),"password"===l&&s.createElement(m.t,null,s.createElement(p.K,{variant:"ghosted","aria-label":k,icon:s.createElement(z,{color:"gray.500",boxSize:6}),onClick:()=>O(!N)})),"select"===l&&s.createElement(f.l,(0,r.A)({ref:E,onChange:o,value:v,placeholder:b},A),n.map((e=>s.createElement("option",{key:`${e.label}-${e.value}`,value:e.value},e.label)))),"checkbox"===l&&s.createElement(g.S,(0,r.A)({ref:E,onChange:e=>o(e.target.checked),isChecked:v},A),a||t),S),_&&"hidden"!==l&&s.createElement(h.Wt,{color:"red.600"},s.createElement(y._0,{"aria-hidden":"true",mr:2}),_.message),M)}})};E.propTypes={name:n().string,label:n().string,autoComplete:n().string,formLabel:n().any,type:n().oneOf(["text","number","password","email","phone","tel","select","checkbox","hidden"]),options:n().arrayOf(n().shape({label:n().string,value:n().any})),rules:n().object,error:n().shape({message:n().string}),placeholder:n().string,inputProps:n().oneOfType([n().object,n().func]),control:n().object,defaultValue:n().any,helpText:n().any,children:n().any,inputRef:n().object};const _=E},93613:(e,t,a)=>{a.d(t,{A:()=>f});var r=a(98778),s=a(12250),l=a.n(s),n=a(20751),o=a(45915),d=a(40133),i=a(86400),u=a(25635),c=a(45589);const m=({isValid:e,children:t})=>{const a={display:"block",ml:e?"-2px":"-1px",mr:e?"9px":"10px",boxSize:e?4:"14px",color:e?"green.500":"white",border:e?"none":"1px solid",borderColor:"gray.200",borderRadius:"full"};return r.createElement(o.s,{align:"center"},r.createElement(u.C1,a),r.createElement(d.E,{fontSize:"sm",lineHeight:4},t))};m.propTypes={isValid:l().bool,children:l().any};const p=({value:e})=>{const t=(0,c.O)(e);return r.createElement(i.B,{spacing:2},r.createElement(m,{isValid:t.hasMinChars},r.createElement(n.A,{id:"password_requirements.error.eight_letter_minimum",defaultMessage:[{type:0,value:"8 characters minimum"}]})),r.createElement(m,{isValid:t.hasUppercase},r.createElement(n.A,{id:"password_requirements.error.one_uppercase_letter",defaultMessage:[{type:0,value:"1 uppercase letter"}]})),r.createElement(m,{isValid:t.hasLowercase},r.createElement(n.A,{id:"password_requirements.error.one_lowercase_letter",defaultMessage:[{type:0,value:"1 lowercase letter"}]})),r.createElement(m,{isValid:t.hasNumber},r.createElement(n.A,{defaultMessage:[{type:0,value:"1 number"}],id:"password_requirements.error.one_number"})),r.createElement(m,{isValid:t.hasSpecialChar},r.createElement(n.A,{id:"password_requirements.error.one_special_character",defaultMessage:[{type:0,value:"1 special character (example: , S ! % #)"}]})))};p.propTypes={value:l().string};const f=p},64121:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(57131),s=a(70252),l=a(65982),n=a(35075),o=a(73448);const d=(0,r.YK)({required:{defaultMessage:[{type:0,value:"Required"}],id:"use_address_fields.error.required"},firstName:{defaultMessage:[{type:0,value:"First Name"}],id:"use_address_fields.label.first_name"},lastName:{defaultMessage:[{type:0,value:"Last Name"}],id:"use_address_fields.label.last_name"},phone:{defaultMessage:[{type:0,value:"Phone"}],id:"use_address_fields.label.phone"},country:{defaultMessage:[{type:0,value:"Country"}],id:"use_address_fields.label.country"},address:{defaultMessage:[{type:0,value:"Address"}],id:"use_address_fields.label.address"},city:{defaultMessage:[{type:0,value:"City"}],id:"use_address_fields.label.city"},state:{defaultMessage:[{type:0,value:"State"}],id:"use_address_fields.label.state"},province:{defaultMessage:[{type:0,value:"Province"}],id:"use_address_fields.label.province"},zipCode:{defaultMessage:[{type:0,value:"Zip Code"}],id:"use_address_fields.label.zipCode"},postalCode:{defaultMessage:[{type:0,value:"Postal Code"}],id:"use_address_fields.label.postal_code"},stateCodeInvalid:{defaultMessage:[{type:0,value:"Please enter 2-letter state/province."}],id:"use_address_fields.error.state_code_invalid"},preferred:{defaultMessage:[{type:0,value:"Set as default"}],id:"use_address_fields.label.preferred"}});function i({form:{watch:e,control:t,formState:{errors:a}},prefix:r=""}){const{formatMessage:i}=(0,s.A)(),u=e("countryCode");return{firstName:{name:`${r}firstName`,label:i(d.firstName),defaultValue:"",type:"text",autoComplete:"given-name",rules:{required:i({defaultMessage:[{type:0,value:"Please enter your first name."}],id:"use_address_fields.error.please_enter_first_name"})},error:a[`${r}firstName`],control:t},lastName:{name:`${r}lastName`,label:i(d.lastName),defaultValue:"",type:"text",autoComplete:"family-name",rules:{required:i({defaultMessage:[{type:0,value:"Please enter your last name."}],id:"use_address_fields.error.please_enter_last_name"})},error:a[`${r}lastName`],control:t},phone:{name:`${r}phone`,label:i(d.phone),defaultValue:"",type:"tel",autoComplete:"tel",rules:{required:i({defaultMessage:[{type:0,value:"Please enter your phone number."}],id:"use_address_fields.error.please_enter_phone_number"})},error:a[`${r}phone`],inputProps:({onChange:e})=>({inputMode:"numeric",onChange(t){e((0,l.n)(t.target.value))}}),control:t},countryCode:{name:`${r}countryCode`,label:i(d.country),defaultValue:"US",type:"select",options:o.NZ,rules:{required:i({defaultMessage:[{type:0,value:"Please select your country."}],id:"use_address_fields.error.please_select_your_country"})},error:a[`${r}countryCode`],control:t},address1:{name:`${r}address1`,label:i(d.address),defaultValue:"",type:"text",autoComplete:"address-line1",rules:{required:i({defaultMessage:[{type:0,value:"Please enter your address."}],id:"use_address_fields.error.please_select_your_address"})},error:a[`${r}address1`],control:t},city:{name:`${r}city`,label:i(d.city),defaultValue:"",type:"text",rules:{required:i({defaultMessage:[{type:0,value:"Please enter your city."}],id:"use_address_fields.error.please_select_your_city"})},error:a[`${r}city`],control:t},stateCode:{name:`${r}stateCode`,label:i("CA"===u?d.province:d.state),defaultValue:"",type:"select",options:[{value:"",label:""},..."CA"===u?n.r:n.i],rules:{required:"CA"===u?"Please select your province.":i({defaultMessage:[{type:0,value:"Please select your state."}],id:"use_address_fields.error.please_select_your_state_or_province"})},error:a[`${r}stateCode`],control:t},postalCode:{name:`${r}postalCode`,label:i("CA"===u?d.postalCode:d.zipCode),defaultValue:"",type:"text",autoComplete:"postal-code",rules:{required:"CA"===u?"Please enter your postal code.":i({defaultMessage:[{type:0,value:"Please enter your zip code."}],id:"use_address_fields.error.please_enter_your_postal_or_zip"})},error:a[`${r}postalCode`],control:t},preferred:{name:`${r}preferred`,label:i(d.preferred),defaultValue:!1,type:"checkbox",autoComplete:"honorific-prefix",rules:{},control:t}}}},41034:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(70252),s=a(65982);function l({form:{control:e,formState:{errors:t}},prefix:a=""}){const{formatMessage:l}=(0,r.A)();return{firstName:{name:`${a}firstName`,label:l({defaultMessage:[{type:0,value:"First Name"}],id:"use_profile_fields.label.first_name"}),type:"text",autoComplete:"given-name",defaultValue:"",rules:{required:l({defaultMessage:[{type:0,value:"Please enter your first name."}],id:"use_profile_fields.error.required_first_name"})},error:t[`${a}firstName`],control:e},lastName:{name:`${a}lastName`,label:l({defaultMessage:[{type:0,value:"Last Name"}],id:"use_profile_fields.label.last_name"}),type:"text",defaultValue:"",autoComplete:"family-name",rules:{required:l({defaultMessage:[{type:0,value:"Please enter your last name."}],id:"use_profile_fields.error.required_last_name"})},error:t[`${a}lastName`],control:e},email:{name:`${a}email`,label:l({defaultMessage:[{type:0,value:"Email"}],id:"use_profile_fields.label.email"}),placeholder:"you@email.com",type:"email",defaultValue:"",autoComplete:"email",rules:{required:l({defaultMessage:[{type:0,value:"Please enter a valid email address."}],id:"use_profile_fields.error.required_email"})},error:t[`${a}email`],control:e},phone:{name:`${a}phone`,label:l({defaultMessage:[{type:0,value:"Phone Number"}],id:"use_profile_fields.label.phone"}),defaultValue:"",type:"tel",autoComplete:"tel",rules:{required:l({defaultMessage:[{type:0,value:"Please enter your phone number."}],id:"use_profile_fields.error.required_phone"})},error:t[`${a}phone`],inputProps:({onChange:e})=>({inputMode:"numeric",onChange(t){e((0,s.n)(t.target.value))}}),control:e}}}},38919:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(70252),s=a(45589);function l({form:{control:e,formState:{errors:t}},prefix:a=""}){const{formatMessage:l}=(0,r.A)();return{currentPassword:{name:`${a}currentPassword`,label:l({defaultMessage:[{type:0,value:"Current Password"}],id:"use_update_password_fields.label.current_password"}),defaultValue:"",type:"password",autoComplete:"current-password",rules:{required:l({defaultMessage:[{type:0,value:"Please enter your password."}],id:"use_update_password_fields.error.required_password"})},error:t[`${a}currentPassword`],control:e},password:{name:`${a}password`,label:l({defaultMessage:[{type:0,value:"New Password"}],id:"use_update_password_fields.label.new_password"}),type:"password",autoComplete:"new-password",defaultValue:"",rules:{required:l({defaultMessage:[{type:0,value:"Please provide a new password."}],id:"use_update_password_fields.error.required_new_password"}),validate:{hasMinChars:e=>(0,s.O)(e).hasMinChars||l({defaultMessage:[{type:0,value:"Password must contain at least 8 characters."}],id:"use_update_password_fields.error.minimum_characters"}),hasUppercase:e=>(0,s.O)(e).hasUppercase||l({defaultMessage:[{type:0,value:"Password must contain at least one uppercase letter."}],id:"use_update_password_fields.error.uppercase_letter"}),hasLowercase:e=>(0,s.O)(e).hasLowercase||l({defaultMessage:[{type:0,value:"Password must contain at least one lowercase letter."}],id:"use_update_password_fields.error.lowercase_letter"}),hasNumber:e=>(0,s.O)(e).hasNumber||l({defaultMessage:[{type:0,value:"Password must contain at least one number."}],id:"use_update_password_fields.error.contain_number"}),hasSpecialChar:e=>(0,s.O)(e).hasSpecialChar||l({defaultMessage:[{type:0,value:"Password must contain at least one special character."}],id:"use_update_password_fields.error.special_character"})}},error:t[`${a}password`],control:e}}}},7448:(e,t,a)=>{a.d(t,{A:()=>p});var r=a(35906),s=a(98778),l=a(12250),n=a.n(l),o=a(86400),d=a(36287),i=a(40133),u=a(14893),c=a(25635);const m=({heading:e,text:t,icon:a,buttonText:l,buttonProps:n,onButtonClick:m})=>s.createElement(o.B,{spacing:2,py:12,px:4,alignItems:"center",borderRadius:"base",background:"gray.50"},s.createElement(d.az,null,a),s.createElement(o.B,{spacing:6,alignItems:"center"},s.createElement(d.az,null,s.createElement(i.E,{align:"center",fontSize:"lg",fontWeight:"bold"},e),s.createElement(i.E,{align:"center",fontSize:"md",color:"gray.700"},t)),s.createElement(u.$,(0,r.A)({onClick:m,leftIcon:s.createElement(c.c1,null)},n),l)));m.propTypes={heading:n().string,text:n().string,buttonText:n().string,icon:n().any,buttonProps:n().object,onButtonClick:n().func};const p=m},46084:(e,t,a)=>{a.d(t,{A:()=>E});var r=a(35906),s=a(37679),l=a(98778),n=a(12250),o=a.n(n),d=a(70252),i=a(25149),u=a(67555),c=a(73352),m=a(45915),p=a(14893),f=a(40133),g=a(66092),h=a(25635);const y=["urls","currentURL"],v=e=>{const t=(0,d.A)(),a=(0,c.Vl)("Pagination"),n=(0,i.W6)(),{urls:o,currentURL:v}=e,E=(0,s.A)(e,y),_=o.indexOf(v)>0?o.indexOf(v):0,b=o[_-1],w=o[_+1];return l.createElement(m.s,(0,r.A)({"data-testid":"sf-pagination",className:"sf-pagination"},a.container,E),l.createElement(p.$,(0,r.A)({},a.button,{as:u.Link,href:b||v,to:b||v,"aria-label":t.formatMessage({id:"pagination.link.prev.assistive_msg",defaultMessage:[{type:0,value:"Previous Page"}]}),"aria-disabled":!b,variant:"link"}),l.createElement(h.YJ,null),l.createElement(f.E,null,t.formatMessage({id:"pagination.link.prev",defaultMessage:[{type:0,value:"Prev"}]}))),l.createElement(m.s,{paddingLeft:4,paddingRight:4},l.createElement(g.l,{id:"pagination",onChange:e=>{n.push(e.target.value)},value:v,height:11},o.map(((e,t)=>l.createElement("option",{key:t,value:e},t+1)))),l.createElement(f.E,a.text,t.formatMessage({id:"pagination.field.num_of_pages",defaultMessage:[{type:0,value:"of "},{type:1,value:"numOfPages"}]},{numOfPages:o.length}))),l.createElement(p.$,(0,r.A)({},a.button,{as:u.Link,href:w||v,to:w||v,"aria-label":t.formatMessage({id:"pagination.link.next.assistive_msg",defaultMessage:[{type:0,value:"Next Page"}]}),"aria-disabled":!w,variant:"link"}),l.createElement(f.E,null,t.formatMessage({id:"pagination.link.next",defaultMessage:[{type:0,value:"Next"}]})),l.createElement(h.vK,null)))};v.displayName="Pagination",v.propTypes={urls:o().array.isRequired,currentURL:o().string};const E=v},12615:(e,t,a)=>{a.d(t,{A:()=>H});var r=a(49534),s=a(8805),l=a(35906),n=a(98778),o=a(20751),d=a(57131),i=a(70252),u=a(12250),c=a.n(u),m=a(36287),p=a(86400),f=a(38340),g=a(66272),h=a(76315),y=a(45825),v=a(40133),E=a(17815),_=a(54019),b=a(14893),w=a(43285),A=a(56649),x=a(49785),C=a(34638),M=a(14905),S=a(25635),P=a(49908),I=a(6328),N=a(78328),O=a(12753),z=a(60309),k=a(54007),$=a(18639),L=a(73448);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){(0,r.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const R=()=>n.createElement(m.az,{width:3,height:3,borderLeft:"1px solid",borderTop:"1px solid",borderColor:"blue.600",position:"absolute",left:"50%",bottom:"-23px",zIndex:1,background:"white",transform:"rotate(45deg)"}),B=({form:e,hasAddresses:t,selectedAddressId:a,toggleEdit:r,submitForm:s})=>{var d;return n.createElement(m.az,(0,l.A)({border:"1px solid",borderColor:"gray.200",borderRadius:"base",position:"relative"},t&&{gridColumn:[1,"span 2","span 2","span 2","span 3"],paddingX:[4,4,6],paddingY:6,rounded:"base",border:"1px solid",borderColor:"blue.600"}),e.formState.isSubmitting&&n.createElement(M.A,null),n.createElement(p.B,{spacing:6,padding:6},n.createElement(f.D,{as:"h3",size:"sm"},a?n.createElement(o.A,{defaultMessage:[{type:0,value:"Edit Address"}],id:"shipping_address_form.heading.edit_address"}):n.createElement(o.A,{defaultMessage:[{type:0,value:"Add New Address"}],id:"shipping_address_form.heading.new_address"})),n.createElement(m.az,null,n.createElement(g.m,{variant:"form"},n.createElement("form",{onSubmit:e.handleSubmit(s)},n.createElement(p.B,{spacing:6},(null===(d=e.formState.errors)||void 0===d?void 0:d.global)&&n.createElement(h.F,{status:"error"},n.createElement(y._,{color:"red.600",boxSize:4}),n.createElement(v.E,{fontSize:"sm",ml:3},e.formState.errors.global.message)),n.createElement(I.A,{form:e}),n.createElement(A.A,{onCancel:r})))))))};B.propTypes={form:c().object,hasAddresses:c().bool,selectedAddressId:c().string,toggleEdit:c().func,submitForm:c().func};const V=(0,d.zR)({defaultMessage:[{type:0,value:"New address saved"}],id:"account_addresses.info.new_address_saved"}),D=(0,d.zR)({defaultMessage:[{type:0,value:"Address updated"}],id:"account_addresses.info.address_updated"}),T=(0,d.zR)({defaultMessage:[{type:0,value:"Address removed"}],id:"account_addresses.info.address_removed"}),F=()=>{const{formatMessage:e}=(0,i.A)(),{data:t,isLoading:a}=(0,z.J)(),{isRegistered:r,addresses:l,customerId:d}=t,u=(0,k.useShopperCustomersMutation)("createCustomerAddress"),c=(0,k.useShopperCustomersMutation)("updateCustomerAddress"),m=(0,k.useShopperCustomersMutation)("removeCustomerAddress"),[g,h]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),A=(0,C.d)(),M=(0,x.mN)(),I=(0,n.useRef)();(0,n.useEffect)((()=>{var e;null==I||null===(e=I.current)||void 0===e||e.focus()}),[]);const[q,F]=(0,n.useState)({});(0,n.useEffect)((()=>{const e={};null==l||l.forEach((({addressId:t})=>{e[t]=n.createRef()})),F(e)}),[l]);const H=(null==l?void 0:l.length)>0,U=function(){var a=(0,s.A)((function*(a){try{let r;if(M.clearErrors(),y){const e=j(j({},a),{},{addressId:y});r=yield c.mutateAsync({body:e,parameters:{customerId:d,addressName:y}})}else{const e=j({addressId:(0,$.Ak)()},a);r=yield u.mutateAsync({body:e,parameters:{customerId:t.customerId}})}r&&(J(),A({title:e(y?D:V),status:"success",isClosable:!0}))}catch(e){M.setError("global",{type:"manual",message:e.message})}}));return function(e){return a.apply(this,arguments)}}(),W=function(){var t=(0,s.A)((function*(t){try{t===y&&(v(void 0),h(!1),M.reset({addressId:""})),yield m.mutateAsync({parameters:{customerId:d,addressName:t}},{onSuccess:()=>{var t;A({title:e(T),status:"success",isClosable:!0}),null==I||null===(t=I.current)||void 0===t||t.focus()}})}catch(t){throw A({title:e(L.gS),status:"error"}),t}}));return function(e){return t.apply(this,arguments)}}(),J=e=>{if(M.reset(j({},e)),null!=e&&e.addressId)v(e.addressId),h(!0);else{var t;const e=(null===(t=q[y])||void 0===t?void 0:t.current)??(null==I?void 0:I.current);null==e||e.focus(),v(void 0),h(!g)}};return n.createElement(p.B,{spacing:4,"data-testid":"account-addresses-page"},n.createElement(f.D,{as:"h1",fontSize:"2xl",tabIndex:"0",ref:I},n.createElement(o.A,{defaultMessage:[{type:0,value:"Addresses"}],id:"account_addresses.title.addresses"})),a&&n.createElement(E.r,{columns:[1,2,2,2,3],spacing:4},new Array(3).fill().map(((e,t)=>n.createElement(P.A,{key:t},n.createElement(p.B,{spacing:2,marginBottom:7},n.createElement(_.E,{height:"23px",width:"120px"}),n.createElement(_.E,{height:"23px",width:"84px"}),n.createElement(_.E,{height:"23px",width:"104px"})))))),H&&n.createElement(E.r,{columns:[1,2,2,2,3],spacing:4,gridAutoFlow:"row dense"},n.createElement(b.$,{variant:"outline",border:"1px dashed",borderColor:"gray.200",color:"blue.600",height:{lg:"full"},minHeight:11,rounded:"base",fontWeight:"medium",leftIcon:n.createElement(S.c1,{display:"block",boxSize:"15px"}),onClick:()=>J()},n.createElement(o.A,{defaultMessage:[{type:0,value:"Add Address"}],id:"account_addresses.button.add_address"}),g&&!y&&n.createElement(R,null)),g&&!y&&n.createElement(n.Fragment,null,n.createElement(B,{form:M,hasAddresses:H,submitForm:U,selectedAddressId:y,toggleEdit:J})),l.map((e=>n.createElement(n.Fragment,{key:e.addressId},n.createElement(P.A,{borderColor:"gray.200",key:e.addressId,editBtnRef:q[e.addressId],onRemove:()=>W(e.addressId),onEdit:()=>J(e)},e.preferred&&n.createElement(w.E,{position:"absolute",fontSize:"xs",right:4,variant:"solid",bg:"gray.100",color:"gray.900"},n.createElement(o.A,{defaultMessage:[{type:0,value:"Default"}],id:"account_addresses.badge.default"})),n.createElement(N.A,{address:e}),g&&e.addressId===y&&n.createElement(R,null)),g&&e.addressId===y&&n.createElement(B,{form:M,hasAddresses:H,submitForm:U,selectedAddressId:y,toggleEdit:J}))))),!H&&!a&&n.createElement(n.Fragment,null,!g&&r&&n.createElement(O.A,{icon:n.createElement(S.BT,{boxSize:8}),heading:e({defaultMessage:[{type:0,value:"No Saved Addresses"}],id:"account_addresses.page_action_placeholder.heading.no_saved_addresses"}),text:e({defaultMessage:[{type:0,value:"Add a new address method for faster checkout."}],id:"account_addresses.page_action_placeholder.message.add_new_address"}),buttonText:e({defaultMessage:[{type:0,value:"Add Address"}],id:"account_addresses.page_action_placeholder.button.add_address"}),onButtonClick:()=>J()}),g&&!y&&n.createElement(B,{form:M,hasAddresses:H,submitForm:U,selectedAddressId:y,toggleEdit:J})))};F.getTemplateName=()=>"account-addresses";const H=F},10192:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(98778),s=a(25149),l=a(23963),n=a(9236);const o=()=>{const{path:e}=(0,s.W5)();return r.createElement(s.dO,null,r.createElement(s.qh,{exact:!0,path:e},r.createElement(l.A,null)),r.createElement(s.qh,{exact:!0,path:`${e}/:orderNo`},r.createElement(n.A,null)))};o.getTemplateName=()=>"account-order-history";const d=o},10596:(e,t,a)=>{a.d(t,{A:()=>O});var r=a(8805),s=a(35906),l=a(37679),n=a(98778),o=a(70252),d=a(20751),i=a(54019),u=a(66115),c=a(66272),m=a(86400),p=a(76315),f=a(40133),g=a(17815),h=a(36287),y=a(38340),v=a(49785),E=a(25635),_=a(34030),b=a(80057),w=a(65621),A=a(56649),x=a(54007),C=a(60309);const M=["children","height","width"],S=(0,n.forwardRef)(((e,t)=>{let{children:a,height:r,width:o}=e,d=(0,l.A)(e,M);const{data:u}=(0,C.J)(),{isRegistered:c}=u,m=c?{}:{height:r,width:o};return n.createElement(i.E,(0,s.A)({ref:t,isLoaded:!u.isLoading},d,m),a)}));S.displayName="Skeleton";const P=()=>{var e;const{formatMessage:t}=(0,o.A)(),a=(0,n.useRef)(null),{data:s}=(0,C.J)(),{isRegistered:l,customerId:i}=s,y=(0,x.useShopperCustomersMutation)("updateCustomer"),w=(0,u.d)(),[M,P]=(0,n.useState)(!1),I=(0,v.mN)({defaultValues:{firstName:null==s?void 0:s.firstName,lastName:null==s?void 0:s.lastName,email:null==s?void 0:s.email,phone:null==s?void 0:s.phoneHome}});(0,n.useEffect)((()=>{I.reset({firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phoneHome})}),[null==s?void 0:s.firstName,null==s?void 0:s.lastName,null==s?void 0:s.email,null==s?void 0:s.phoneHome]);const N=function(){var e=(0,r.A)((function*(e){try{I.clearErrors(),y.mutate({parameters:{customerId:i},body:{firstName:e.firstName,lastName:e.lastName,phoneHome:e.phone,email:e.email,login:e.email}},{onSuccess:()=>{var e;P(!1),w({title:t({defaultMessage:[{type:0,value:"Profile updated"}],id:"profile_card.info.profile_updated"}),status:"success",isClosable:!0}),null==a||null===(e=a.current)||void 0===e||e.focus()}})}catch(e){I.setError("global",{type:"manual",message:e.message})}}));return function(t){return e.apply(this,arguments)}}();return n.createElement(_.Le,{id:"my-profile",title:n.createElement(S,{ref:a,tabIndex:"-1",height:"30px",width:"120px"},n.createElement(d.A,{defaultMessage:[{type:0,value:"My Profile"}],id:"profile_card.title.my_profile"})),editing:M,isLoading:I.formState.isSubmitting,onEdit:l?()=>P(!0):void 0,layerStyle:"cardBordered"},n.createElement(_.hl,null,n.createElement(c.m,{variant:"form"},n.createElement("form",{onSubmit:I.handleSubmit(N)},n.createElement(m.B,{spacing:6},(null===(e=I.formState.errors)||void 0===e?void 0:e.global)&&n.createElement(p.F,{status:"error"},n.createElement(E._0,{color:"red.500",boxSize:4}),n.createElement(f.E,{fontSize:"sm",ml:3},I.formState.errors.global.message)),n.createElement(b.A,{form:I}),n.createElement(A.A,{onCancel:()=>{var e;P(!1),null==a||null===(e=a.current)||void 0===e||e.focus(),I.reset()}}))))),n.createElement(_.vr,null,n.createElement(g.r,{columns:{base:1,lg:3},spacing:4},n.createElement(h.az,null,n.createElement(S,{height:"21px",width:"84px",marginBottom:2},n.createElement(f.E,{fontSize:"sm",fontWeight:"bold"},n.createElement(d.A,{defaultMessage:[{type:0,value:"Full Name"}],id:"profile_card.label.full_name"}))),n.createElement(S,{height:"21px",width:"140px"},n.createElement(f.E,{fontSize:"sm"},null==s?void 0:s.firstName," ",null==s?void 0:s.lastName))),n.createElement(h.az,null,n.createElement(S,{height:"21px",width:"120px",marginBottom:2},n.createElement(f.E,{fontSize:"sm",fontWeight:"bold"},n.createElement(d.A,{defaultMessage:[{type:0,value:"Email"}],id:"profile_card.label.email"}))),n.createElement(S,{height:"21px",width:"64px"},n.createElement(f.E,{fontSize:"sm"},null==s?void 0:s.email))),n.createElement(h.az,null,n.createElement(S,{height:"21px",width:"80px",marginBottom:2},n.createElement(f.E,{fontSize:"sm",fontWeight:"bold"},n.createElement(d.A,{defaultMessage:[{type:0,value:"Phone Number"}],id:"profile_card.label.phone"}))),n.createElement(S,{height:"21px",width:"120px"},n.createElement(f.E,{fontSize:"sm"},(null==s?void 0:s.phoneHome)||n.createElement(d.A,{defaultMessage:[{type:0,value:"Not provided"}],id:"profile_card.message.not_provided"})))))))},I=()=>{var e,t;const{formatMessage:a}=(0,o.A)(),s=(0,n.useRef)(null),{data:l}=(0,C.J)(),{isRegistered:i,customerId:y,email:b}=l,M=(0,x.useAuthHelper)(x.AuthHelpers.LoginRegisteredUserB2C),P=(0,x.useShopperCustomersMutation)("updateCustomerPassword"),I=(0,u.d)(),[N,O]=(0,n.useState)(!1),z=(0,v.mN)(),k=function(){var e=(0,r.A)((function*(e){try{z.clearErrors(),P.mutate({parameters:{customerId:y},body:{password:e.password,currentPassword:e.currentPassword}},{onSuccess:()=>{var t;O(!1),I({title:a({defaultMessage:[{type:0,value:"Password updated"}],id:"password_card.info.password_updated"}),status:"success",isClosable:!0}),M.mutate({username:b,password:e.password}),null==s||null===(t=s.current)||void 0===t||t.focus(),z.reset()},onError:(t=(0,r.A)((function*(e){const t=yield e.response.json();z.setError("root.global",{type:"manual",message:t.detail})})),function(e){return t.apply(this,arguments)})})}catch(e){z.setError("root.global",{type:"manual",message:e.message})}var t}));return function(t){return e.apply(this,arguments)}}();return n.createElement(_.Le,{id:"password",title:n.createElement(S,{ref:s,tabIndex:"-1",height:"30px",width:"120px"},n.createElement(d.A,{defaultMessage:[{type:0,value:"Password"}],id:"password_card.title.password"})),editing:N,isLoading:z.formState.isSubmitting,onEdit:i?()=>O(!0):void 0,layerStyle:"cardBordered"},n.createElement(_.hl,null,n.createElement(c.m,{variant:"form"},n.createElement("form",{onSubmit:z.handleSubmit(k)},n.createElement(m.B,{spacing:6},(null===(e=z.formState.errors)||void 0===e||null===(t=e.root)||void 0===t?void 0:t.global)&&n.createElement(p.F,{"data-testid":"password-update-error",status:"error"},n.createElement(E._0,{color:"red.500",boxSize:4}),n.createElement(f.E,{fontSize:"sm",ml:3},z.formState.errors.root.global.message)),n.createElement(w.A,{form:z}),n.createElement(A.A,{onCancel:()=>{var e;O(!1),null==s||null===(e=s.current)||void 0===e||e.focus(),z.reset()}}))))),n.createElement(_.vr,null,n.createElement(g.r,{columns:{base:1,lg:3},spacing:4},n.createElement(h.az,null,n.createElement(S,{height:"21px",width:"84px",marginBottom:2},n.createElement(f.E,{fontSize:"sm",fontWeight:"bold"},n.createElement(d.A,{defaultMessage:[{type:0,value:"Password"}],id:"password_card.label.password"}))),n.createElement(S,{height:"21px",width:"140px"},n.createElement(f.E,{fontSize:"sm"},"••••••••"))))))},N=()=>{const e=(0,n.useRef)();return(0,n.useEffect)((()=>{var t;null==e||null===(t=e.current)||void 0===t||t.focus()}),[]),n.createElement(m.B,{"data-testid":"account-detail-page",spacing:6},n.createElement(y.D,{as:"h1",fontSize:"24px",tabIndex:"0",ref:e},n.createElement(d.A,{defaultMessage:[{type:0,value:"Account Details"}],id:"account_detail.title.account_details"})),n.createElement(m.B,{spacing:4},n.createElement(P,null),n.createElement(I,null)))};N.getTemplateName=()=>"account-detail";const O=N},97943:(e,t,a)=>{a.d(t,{A:()=>S});var r=a(8805),s=a(49534),l=a(98778),n=a(86400),o=a(38340),d=a(70252),i=a(20751),u=a(36287),c=a(45915),m=a(54019),p=a(54007),f=a(7711),g=a(34638),h=a(54851),y=a(12753),v=a(25635),E=a(38372),_=a(66732),b=a(47968),w=a(73448),A=a(60309),x=a(25045);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,s.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const S=()=>{var e,t;const a=(0,f.A)(),{formatMessage:s}=(0,d.A)(),C=(0,g.d)(),S=(0,l.useRef)();(0,l.useEffect)((()=>{var e;null==S||null===(e=S.current)||void 0===e||e.focus()}),[]);const[P,I]=(0,l.useState)(void 0),[N,O]=(0,l.useState)(!1),{data:z,isLoading:k}=(0,h.T)(),$=null==z||null===(e=z.customerProductListItems)||void 0===e?void 0:e.map((e=>e.productId)),{data:L,isLoading:q}=(0,p.useProducts)({parameters:{ids:null==$?void 0:$.join(","),allImages:!0,perPricebook:!0}},{enabled:(null==$?void 0:$.length)>0}),j=null==z||null===(t=z.customerProductListItems)||void 0===t?void 0:t.reduce(((e,t)=>{var a;const r=null==L||null===(a=L.data)||void 0===a?void 0:a.find((e=>e.id===t.productId));return M(M({},e),{},{[t.productId]:M(M({},t),{},{product:r})})}),{}),R=(0,p.useShopperCustomersMutation)("updateCustomerProductListItem"),B=(0,p.useShopperCustomersMutation)("deleteCustomerProductListItem"),{data:V}=(0,A.J)(),D=function(){var e=(0,r.A)((function*(e,t){O(!0),I(e);try{yield t}finally{O(!1),I(void 0)}}));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=(0,r.A)((function*(e){e.length&&(yield Promise.all(e.map(function(){var e=(0,r.A)((function*(e){const t=null==j?void 0:j.find((t=>t.productId.toString()===e.toString())),a={customerId:V.customerId,itemId:null==t?void 0:t.id,listId:null==z?void 0:z.id};yield B.mutateAsync({parameters:a})}));return function(t){return e.apply(this,arguments)}}())))}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,r.A)((function*(e,t){let a=!1;I(t.productId);const r=M(M({},t),{},{quantity:parseInt(e)});delete r.product;const l={customerId:V.customerId,itemId:t.id,listId:null==z?void 0:z.id},n=parseInt(e)>0?R.mutateAsync({body:r,parameters:l}):B.mutateAsync({parameters:l});try{yield n,a=!0,I(void 0)}catch(e){C({title:s(w.gS),status:"error"})}return a}));return function(t,a){return e.apply(this,arguments)}}(),H=Object.keys(j??{}).length>0,U=H?q:k;return l.createElement(n.B,{spacing:4,"data-testid":"account-wishlist-page"},l.createElement(o.D,{as:"h1",fontSize:"2xl",tabIndex:"0",ref:S},l.createElement(i.A,{defaultMessage:[{type:0,value:"Wishlist"}],id:"account_wishlist.title.wishlist"})),U&&l.createElement(u.az,{"data-testid":"sf-wishlist-skeleton"},new Array(3).fill(0).map(((e,t)=>l.createElement(u.az,{key:t,p:[4,6],my:4,border:"1px solid",borderColor:"gray.100",borderRadius:"base"},l.createElement(c.s,{width:"full",align:"flex-start"},l.createElement(m.E,{boxSize:["88px",36],mr:4}),l.createElement(n.B,{spacing:2},l.createElement(m.E,{h:"20px",w:"112px"}),l.createElement(m.E,{h:"20px",w:"84px"}),l.createElement(m.E,{h:"20px",w:"140px"}))))))),!U&&!H&&l.createElement(y.A,{"data-testid":"empty-wishlist",icon:l.createElement(v.C3,{boxSize:8}),heading:s({defaultMessage:[{type:0,value:"No Wishlist Items"}],id:"account_wishlist.heading.no_wishlist"}),text:s({defaultMessage:[{type:0,value:"Continue shopping and add items to your wishlist."}],id:"account_wishlist.description.continue_shopping"}),buttonText:s({defaultMessage:[{type:0,value:"Continue Shopping"}],id:"account_wishlist.button.continue_shopping"}),buttonProps:{leftIcon:void 0},onButtonClick:()=>a("/")}),!U&&j&&Object.keys(j).map((e=>{const t=j[e];return l.createElement(E.A,{key:t.id,product:M(M({},t.product),{},{quantity:t.quantity}),showLoading:(R.isLoading||B.isLoading||N)&&P===t.productId,primaryAction:l.createElement(_.A,null),onItemQuantityChange:e=>F(e,t),secondaryActions:l.createElement(b.A,{productListItemId:t.id,focusElementOnRemove:S,onClick:D})})})),l.createElement(x.A,{productItems:null==z?void 0:z.customerProductListItems,handleUnavailableProducts:T}))}},65982:(e,t,a)=>{a.d(t,{n:()=>r});const r=e=>{if(!e)return e;const t=e.replace(/[^\d]/g,""),a=t.length;return a<4?t:a<7?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,10)}`}}}]);